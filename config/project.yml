paths:
  gdx_dir: "data-raw/gdx/eta_cpi_025_beta_infl_1"
  outputs: "outputs"

scenarios:
  - baseline
  - ff55
  # add more later, e.g.
  # - cbam
  # - nze

groups:
  EU28: ["AUT","BEL","BGR","HRV","CYP","CZE","DNK","EST","FIN","FRA","DEU","GRC",
         "HUN","IRL","ITA","LVA","LTU","LUX","MLT","NLD","POL","PRT","ROU","SVK",
         "SVN","ESP","SWE","GBR"]

extract:
  include: ["GDPr_t","HSAVR_t","HDY_VAL_t","GSUR_VAL_t","GINV_VAL_t",
            "Q_t","I_PP_t","P_I_t","K_t","L_t","U_t","P_CPI_t","ir_t",
            "P_INPUT_t","P_Q_t","USE_PP_t","M_TOT_t","P_USE_t","P_Mcif_t",
            "BITRADE_t","GHG_t"]

aggregations:
  additive_symbols: ["GDPr_t","HDY_VAL_t","GSUR_VAL_t","GINV_VAL_t",
                     "Q_t","I_PP_t","K_t","L_t","U_t",
                     "USE_PP_t","M_TOT_t","BITRADE_t","GHG_t",
                     "P_USE_t","P_Mcif_t","P_I_t","P_Q_t","P_INPUT_t"]

save:
  formats: ["parquet","feather"]   # add "csv","fst","rds" if you like

  # ---- selective bundles belong UNDER save: ----
  bundles:
    diagnostic_app:
      include: ["GDPr_t","HDY_VAL_t","HDYr_t","I_TOT_PP_t","DS_t","FS_t","GSUR_VAL_t",
                "GINV_VAL_t","TBr_t","TB_GDP_t","HSAVR_t","U_t","KLratio_country_t",
                "ir_t","P_HH_CPI_t","I_PP_t","K_t","L_t","GHG_t","KLratio_t","P_Q_t",
                "P_KL_t","I_PP_SECT6_t","OUT_COMP6_SHARE_REAL_t","BITRADE_REG_t"]

    results_app:
      include: ["GDPr_t","TBr_t","TB_GDP_t","I_PP_SECT6_t","OUT_COMP6_SHARE_REAL_t","BITRADE_REG_t"]
      filters:
        BITRADE_REG_t:
          keep:
            c: ["TOT"]           # keep only commodity total
      csv_combine: true
      csv_basename: "results_bundle"
      csv_shape: "wide"


derive:
  # list base symbols to promote to derived if not present
  include_from_base: ["GDPr_t"]
  # optional: tell the promoter which keys to use when coercing long->wide
  # keys:
  #   GDPr_t: ["n","t"]


export_csv:
  enabled: true
  bundle: "results_app"
  out_basename: "results_bundle_template"  # becomes outputs/derived/<name>.csv
  model_name: "FIDELIO"
  pct_as_percent: true
  include_dim_names: true
  unit_overrides:
    GDPr_t: "real (base=2014)"
    TB_GDP_t: "ratio"
    I_PP_SECT6_t: "PP units"

